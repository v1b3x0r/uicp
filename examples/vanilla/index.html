<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UIKit - Vanilla JS Modern Lean Demo</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6; color: #333;
    }
    
    .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
    h1 { margin-bottom: 2rem; color: #111; }
    .demo-section { margin-bottom: 3rem; }
    .demo-section h2 { margin-bottom: 1rem; color: #444; }
    
    .btn {
      background: #3b82f6; color: white; border: none;
      padding: 0.75rem 1.5rem; border-radius: 0.375rem;
      font-size: 1rem; cursor: pointer; margin-right: 1rem;
      transition: background 0.2s;
    }
    .btn:hover { background: #2563eb; }
    
    .drawer {
      position: fixed; background: white;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      z-index: 1000; transition: transform 0.3s ease;
    }
    
    .drawer--left, .drawer--right {
      top: 0; bottom: 0; width: 320px;
      transform: translateX(-100%);
    }
    
    .drawer--left { left: 0; }
    .drawer--right { right: 0; transform: translateX(100%); }
    
    .drawer[aria-hidden="false"] { transform: translateX(0); }
    
    .drawer--top, .drawer--bottom {
      left: 0; right: 0; height: 240px;
      transform: translateY(-100%);
    }
    
    .drawer--top { top: 0; }
    .drawer--bottom { bottom: 0; transform: translateY(100%); }
    
    .drawer--top[aria-hidden="false"], .drawer--bottom[aria-hidden="false"] {
      transform: translateY(0);
    }
    
    .drawer-header {
      display: flex; justify-content: space-between; align-items: center;
      padding: 1rem; border-bottom: 1px solid #e5e7eb;
    }
    
    .drawer-close {
      background: none; border: none; font-size: 1.5rem;
      cursor: pointer; color: #6b7280; padding: 0.25rem;
    }
    
    .drawer-body { padding: 1rem; }
    
    .drawer-overlay {
      position: fixed; inset: 0; background: rgba(0, 0, 0, 0.5);
      z-index: 999; display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>UIKit - Vanilla JS Modern Lean Demo</h1>
    
    <div class="demo-section">
      <h2>Drawer Directions</h2>
      <p style="margin-bottom: 1rem;">Four drawer directions with modern JavaScript patterns:</p>
      <button id="left-trigger" class="btn">Open Left</button>
      <button id="right-trigger" class="btn">Open Right</button>
      <button id="top-trigger" class="btn">Open Top</button>
      <button id="bottom-trigger" class="btn">Open Bottom</button>
    </div>
    
    <div class="demo-section">
      <h2>Features</h2>
      <ul>
        <li>✅ Modern ES2022+ JavaScript</li>
        <li>✅ Touch/drag with velocity detection</li> 
        <li>✅ Focus trap & keyboard navigation</li>
        <li>✅ ARIA accessibility</li>
        <li>✅ Body scroll lock</li>
        <li>✅ Lean vanilla helper functions</li>
      </ul>
    </div>
  </div>

  <!-- Left Drawer -->
  <div id="left-drawer" class="drawer drawer--left" aria-hidden="true">
    <div class="drawer-header">
      <h2>Left Drawer</h2>
      <button class="drawer-close" aria-label="Close">×</button>
    </div>
    <div class="drawer-body">
      <p>Modern lean vanilla drawer!</p>
      <p>Drag to close or use ESC key.</p>
      <input type="text" placeholder="Test focus trap" style="margin-top: 1rem; padding: 0.5rem; width: 100%;">
    </div>
  </div>
  <div class="drawer-overlay" id="left-overlay"></div>
  
  <!-- Right Drawer -->
  <div id="right-drawer" class="drawer drawer--right" aria-hidden="true">
    <div class="drawer-header">
      <h2>Right Drawer</h2>
      <button class="drawer-close" aria-label="Close">×</button>
    </div>
    <div class="drawer-body">
      <p>Right-side drawer with modern patterns.</p>
      <button class="btn">Test Button</button>
    </div>
  </div>
  <div class="drawer-overlay" id="right-overlay"></div>
  
  <!-- Top Drawer -->
  <div id="top-drawer" class="drawer drawer--top" aria-hidden="true">
    <div class="drawer-header">
      <h2>Top Drawer</h2>
      <button class="drawer-close" aria-label="Close">×</button>
    </div>
    <div class="drawer-body">
      <p>Top drawer with Y-axis drag.</p>
    </div>
  </div>
  <div class="drawer-overlay" id="top-overlay"></div>
  
  <!-- Bottom Drawer -->
  <div id="bottom-drawer" class="drawer drawer--bottom" aria-hidden="true">
    <div class="drawer-header">
      <h2>Bottom Drawer</h2>
      <button class="drawer-close" aria-label="Close">×</button>
    </div>
    <div class="drawer-body">
      <p>Bottom drawer - mobile friendly!</p>
    </div>
  </div>
  <div class="drawer-overlay" id="bottom-overlay"></div>

  <script type="module">
    import { setupDrawer } from '@uip/adapter-vanilla';
    
    // Modern lean drawer setup
    const drawers = {
      left: setupDrawer({
        trigger: document.getElementById('left-trigger'),
        content: document.getElementById('left-drawer'),
        dragOptions: { axis: 'x', threshold: 0.3 }
      }),
      right: setupDrawer({
        trigger: document.getElementById('right-trigger'), 
        content: document.getElementById('right-drawer'),
        dragOptions: { axis: 'x', threshold: 0.3 }
      }),
      top: setupDrawer({
        trigger: document.getElementById('top-trigger'),
        content: document.getElementById('top-drawer'),  
        dragOptions: { axis: 'y', threshold: 0.3 }
      }),
      bottom: setupDrawer({
        trigger: document.getElementById('bottom-trigger'),
        content: document.getElementById('bottom-drawer'),
        dragOptions: { axis: 'y', threshold: 0.3 }
      })
    };
    
    // Setup overlays and close buttons with modern patterns
    Object.entries(drawers).forEach(([position, drawer]) => {
      const overlay = document.getElementById(`${position}-overlay`);
      const closeBtn = document.querySelector(`#${position}-drawer .drawer-close`);
      
      closeBtn?.addEventListener('click', drawer.close);
      overlay?.addEventListener('click', drawer.close);
      drawer.onChange(({ isOpen }) => {
        overlay.style.display = isOpen ? 'block' : 'none';
      });
    });
  </script>
</body>
</html>